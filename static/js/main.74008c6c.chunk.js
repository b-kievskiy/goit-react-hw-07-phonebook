(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{37:function(t,e,n){t.exports=n(67)},64:function(t,e,n){},65:function(t,e,n){},66:function(t,e,n){},67:function(t,e,n){"use strict";n.r(e);var a,c=n(0),r=n.n(c),u=n(7),o=n.n(u),l=n(10),s=n(8),i=n(31),m=n(32),b=n(35),f=n(33),p=n(16),d=n.n(p),E=n(1),g=Object(E.b)("@contacts/getReguest"),h=Object(E.b)("@contacts/getReguestSeccess"),O=Object(E.b)("@contacts/getReguestError"),j=Object(E.b)("@contacts/addReguest"),v=Object(E.b)("@contacts/addReguestSeccess"),y=Object(E.b)("@contacts/addReguestError"),N=Object(E.b)("@contacts/deleteReguest"),C=Object(E.b)("@contacts/deleteReguestSeccess"),k=Object(E.b)("@contacts/deleteReguestError"),R=Object(E.b)("@contacts/value",(function(t){return{payload:t.target.value}})),_=n(34),w=n(68),F=(n(64),function(t){var e=t.submitForm,n=t.name,a=t.contactInputValue,u=t.number,o=Object(c.useState)(!1),l=Object(_.a)(o,2),s=l[0],i=l[1];return Object(c.useEffect)((function(){i(!0)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{in:s,classNames:"title",timeout:500,mountOnEnter:!0},r.a.createElement("h2",{className:"title"},"Phonebook")),r.a.createElement("form",{className:"form",onSubmit:e},r.a.createElement("span",null,"Name"),r.a.createElement("br",null),r.a.createElement("input",{className:"input_name",type:"text",name:"name",value:n,onChange:a}),r.a.createElement("br",null),r.a.createElement("span",null,"Number"),r.a.createElement("br",null),r.a.createElement("input",{className:"input_number",type:"text",name:"number",value:u,onChange:a}),r.a.createElement("br",null),r.a.createElement("button",{className:"submit_btn",type:"submit"},"Add contact")))}),S=n(69),x=(n(65),n(6)),V=function(t){return t.contacts.items},I=function(t){return t.contacts.filter},D=function(t){return t.contacts.items},A=Object(x.a)([V,I],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))})),J={inputValue:R,deleteContact:function(t){return function(e){e(N()),d.a.delete("http://localhost:5000/contacts/".concat(t)).then((function(){e(C(t))})).catch((function(t){return e(k(t))}))}}},L=Object(l.b)((function(t){return{filter:I(t),contacts:D(t),result:A(t)}}),J)((function(t){var e=t.inputValue,n=t.deleteContact,a=t.result;return r.a.createElement(r.a.Fragment,null,a.length>1&&r.a.createElement("div",{className:"search-container"},r.a.createElement("span",null,"Find contacts by name"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",onChange:e})),r.a.createElement("div",{className:"search_info"},r.a.createElement(S.a,{component:"ul",className:"contact_list"},a.map((function(t){return r.a.createElement(w.a,{key:t.id,classNames:"list__item",timeout:800},r.a.createElement("li",{className:"contact_item",key:t.id},t.name," : ",t.number,r.a.createElement("button",{className:"delete_btn",type:"button",onClick:function(){return n(t.id)}},"Delete")))})))))})),B=(n(66),function(t){Object(b.a)(n,t);var e=Object(f.a)(n);function n(){var t;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={name:"",number:"",value:!1},t.contactInputValue=function(e){var n=e.target,a=n.name,c=n.value;t.setState(Object(s.a)({},a,c))},t.submitForm=function(e){e.preventDefault();var n=t.state,a=n.name,c=n.number,r=n.value;t.props.contacts.find((function(e){return e.name===t.state.name}))?t.toggle(r):(t.props.addContact(a,c),t.setState({name:"",number:""}))},t.toggle=function(e){t.setState({value:!e})},t}return Object(m.a)(n,[{key:"componentDidMount",value:function(){this.props.getContact()}},{key:"render",value:function(){var t=this,e=this.state,n=e.name,a=e.number,c=e.value;return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{in:c,classNames:"alert",timeout:500,mountOnEnter:!0,unmountOnExit:!0},r.a.createElement("button",{className:"alert",onClick:function(){t.toggle(!0)}},"".concat(n," alredy exist"))),r.a.createElement(F,{submitForm:this.submitForm,name:n,contactInputValue:this.contactInputValue,number:a}),r.a.createElement(L,null))}}]),n}(c.Component)),M={addContact:function(t,e){return function(n){n(j()),d.a.post("http://localhost:3000/contacts",{name:t,number:e}).then((function(t){n(v(t.data))})).catch((function(t){return n(y(t))}))}},getContact:function(){return function(t){t(g()),d.a.get("http://localhost:5000/contacts").then((function(e){console.log(e),t(h(e.data))})).catch((function(e){return t(O(e))}))}}},P=Object(l.b)((function(t){return{contacts:V(t)}}),M)(B),q=n(15),z=n(5),G=Object(E.c)([],(a={},Object(s.a)(a,h,(function(t,e){return e.payload})),Object(s.a)(a,v,(function(t,e){var n=e.payload;return[].concat(Object(q.a)(t),[n])})),Object(s.a)(a,C,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),a)),H=Object(E.c)("",Object(s.a)({},R,(function(t,e){return e.payload}))),K=Object(z.c)({items:G,filter:H}),Q=Object(E.d)(),T=Object(E.a)({reducer:{contacts:K},middleware:Object(q.a)(Q)});o.a.render(r.a.createElement(l.a,{store:T},r.a.createElement(P,null)),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.74008c6c.chunk.js.map